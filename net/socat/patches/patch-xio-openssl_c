Index: xio-openssl.c
--- xio-openssl.c.orig
+++ xio-openssl.c
@@ -1761,8 +1761,8 @@ static int openssl_handle_peer_certificate(struct sing
 		  case GEN_IPADD:
 		     {
 			/* binary address format */
-			const unsigned char *data = pName->d.iPAddress->data;
-			size_t len = pName->d.iPAddress->length;
+			const unsigned char *data = ASN1_STRING_get0_data(pName->d.iPAddress);
+			size_t len = ASN1_STRING_length(pName->d.iPAddress);
 			char aBuffer[INET6_ADDRSTRLEN]; 	/* canonical peername */
 			struct in6_addr ip6bin;
 
